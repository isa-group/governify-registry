{
    "type": "object",
    "properties": {
        "id": {
            "type": "string"
        },
        "version": {
            "type": "string"
        },
        "type": {
            "type": "string"
        },
        "context": {
            "type": "object",
            "properties": {
                "provider": {
                    "type": "string"
                },
                "consumer": {
                    "type": "string"
                },
                "validity": {
                    "$ref": "#/properties/validity"
                },
                "definitions": {
                    "$ref": "#/properties/definitions"
                },
                "infrastructure": {
                    "$ref": "#/properties/infrastructure"
                }
            }
        },
        "terms": {
            "type": "object",
            "properties": {
                "guarantees": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/guarantee"
                    }
                },
                "metrics": {
                    "$ref": "#/properties/metric"
                },
                "configurations": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/properties/configuration"
                    }
                },
                "pricing": {
                    "$ref": "#/properties/pricing"
                },
                "quotas": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/quota"
                    }
                },
                "rates": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/rate"
                    }
                }
            }
        },
        "configuration": {
            "type": "object",
            "properties": {
                "of": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/scopedConfiguration"
                    }
                }
            }
        },
        "scopedConfiguration": {
            "type": "object",
            "properties": {
                "scope": {
                    "type": "object"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "number"
                        },
                        {
                            "type": "boolean"
                        }
                    ]
                }
            }
        },
        "validity": {
            "type": "object",
            "properties": {
                "initial": {
                    "type": "string"
                },
                "timeZone": {
                    "type": "string"
                },
                "end": {
                    "type": "string"
                }
            }
        },
        "infrastructure": {
            "type": "object"
        },
        "definitions": {
            "type": "object",
            "properties": {
                "schemas": {
                    "$ref": "#/properties/_schema"
                },
                "scopes": {
                    "$ref": "#/properties/scopes"
                },
                "logs": {
                    "$ref": "#/properties/log"
                }
            }
        },
        "_schema": {
            "type": "object"
        },
        "scopes": {
            "type": "object"
        },
        "scope": {
            "type": "object"
        },
        "log": {
            "type": "object"
        },
        "pricing": {
            "type": "object",
            "properties": {
                "cost": {
                    "type": "number",
                    "format": "double"
                },
                "currency": {
                    "type": "string"
                },
                "billing": {
                    "$ref": "#/properties/billing"
                }
            }
        },
        "billing": {
            "type": "object",
            "properties": {
                "period": {
                    "type": "string"
                },
                "initial": {
                    "type": "string"
                },
                "penalties": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/compensation"
                    }
                },
                "rewards": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/compensation"
                    }
                }
            }
        },
        "metric": {
            "type": "object"
        },
        "rate": {
            "type": "object"
        },
        "quota": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "scope": {
                    "type": "object"
                },
                "over": {
                    "type": "object"
                },
                "of": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/scopedQuota"
                    }
                }
            }
        },
        "scopedQuota": {
            "type": "object",
            "properties": {
                "scope": {
                    "type": "object"
                },
                "limits": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/limit"
                    }
                }
            }
        },
        "limit": {
            "type": "object",
            "properties": {
                "max": {
                    "type": "number"
                },
                "period": {
                    "type": "string"
                }
            }
        },
        "guarantee": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "scope": {
                    "$ref": "#/properties/guarantee_scope"
                },
                "of": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/scoped_guarante"
                    }
                }
            }
        },
        "guarantee_scope": {
            "type": "object"
        },
        "scoped_guarante": {
            "type": "object",
            "properties": {
                "scope": {
                    "$ref": "#/properties/guarantee_scope"
                },
                "objective": {
                    "type": "string"
                },
                "with": {
                    "$ref": "#/properties/with"
                },
                "window": {
                    "$ref": "#/properties/window"
                },
                "evidences": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/evidence"
                    }
                },
                "penalties": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/compensation"
                    }
                },
                "rewards": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/compensation"
                    }
                }
            }
        },
        "with": {
            "type": "object"
        },
        "window": {
            "type": "object",
            "properties": {
                "initial": {
                    "type": "string"
                },
                "end": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "period": {
                    "type": "string"
                }
            }
        },
        "evidence": {
            "type": "object"
        },
        "compensation": {
            "type": "object",
            "properties": {
                "over": {
                    "$ref": "#/properties/over"
                },
                "of": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/compensation_of"
                    }
                },
                "aggegatedBy": {
                    "type": "string"
                },
                "groupBy": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/properties/groupByObj"
                    }
                },
                "upTo": {
                    "type": "number",
                    "format": "double"
                }
            }
        },
        "compensation_of": {
            "type": "object",
            "properties": {
                "value": {
                    "type": "string"
                },
                "condition": {
                    "type": "string"
                }
            }
        },
        "over": {
            "type": "object"
        },
        "groupByObj": {
            "type": "object"
        },
        "agreement_state": {
            "type": "object"
        },
        "metrics_state": {
            "type": "object"
        },
        "metric_state": {
            "type": "object"
        },
        "rates_state": {
            "type": "object"
        },
        "rate_state": {
            "type": "object"
        },
        "quotas_state": {
            "type": "object"
        },
        "quota_state": {
            "type": "object"
        },
        "guarantees_state": {
            "type": "object"
        },
        "guarantee_state": {
            "type": "object",
            "properties": {
                "guarantee": {
                    "type": "string"
                },
                "scope": {
                    "$ref": "#/properties/scope"
                },
                "logs": {
                    "$ref": "#/properties/log"
                },
                "period": {
                    "$ref": "#/properties/period"
                },
                "evidences": {
                    "type": "array",
                    "items": {
                        "$ref": "#/properties/evidence_state"
                    }
                },
                "fulfilled": {
                    "type": "boolean"
                },
                "penalties": {
                    "$ref": "#/properties/penalty_state"
                }
            }
        },
        "period": {
            "type": "object",
            "properties": {
                "from": {
                    "type": "string"
                },
                "to": {
                    "type": "string"
                }
            }
        },
        "evidence_state": {
            "type": "object",
            "properties": {
                "evidence": {
                    "type": "boolean"
                },
                "issue_init": {
                    "type": "string"
                },
                "issue_end": {
                    "type": "string"
                },
                "issue_duration": {
                    "type": "string"
                }
            }
        },
        "penalty_state": {
            "type": "object"
        },
        "inline_response_400": {
            "properties": {
                "code": {
                    "type": "number"
                },
                "message": {
                    "type": "string"
                }
            }
        }
    }
}